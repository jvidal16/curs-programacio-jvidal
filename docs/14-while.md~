a la condici√≥**
2. Si √©s CERT ‚Üí executa les instruccions
3. Si √©s FALS ‚Üí surt del bucle
4. Torna al pas 1

---

## üîë Condici√≥ de continuaci√≥

La condici√≥ determina **QUAN continuar**, no quan parar:

```pseudocode
ALGORISME ComptarEnrera
VARIABLES
    comptador: ENTER
    
INICI
    comptador ‚Üê 10
    
    MENTRE comptador > 0 FER
        ESCRIURE comptador
        comptador ‚Üê comptador - 1
    FI_MENTRE
    
    ESCRIURE "Foc!"
FI
```

**Sortida:**
```
10
9
8
...
2
1
Foc!
```

### ‚ö†Ô∏è Advert√®ncia important

**El bucle MENTRE pot no executar-se MAI:**

```pseudocode
x ‚Üê 10

MENTRE x < 5 FER
    ESCRIURE "Aix√≤ no es mostrar√†"
FI_MENTRE
```

Com que `x = 10` i `10 < 5` √©s FALS, el bucle no s'executa cap vegada.

---

## üÜö Difer√®ncies entre FOR i WHILE

| Aspecte | FOR | WHILE |
|---------|-----|-------|
| **Iteracions** | Nombre conegut | Nombre desconegut |
| **Control** | Variable comptador | Condici√≥ booleana |
| **√ös t√≠pic** | Repeticions fixes | Fins que passi alguna cosa |
| **Inicialitzaci√≥** | Autom√†tica | Manual |
| **Pot no executar-se?** | S√≠ (si rang buit) | S√≠ (si condici√≥ inicial falsa) |

### Exemple comparatiu

**Amb FOR:**
```pseudocode
// Mostrar n√∫meros de l'1 al 5
PER i ‚Üê 1 FINS 5 FER
    ESCRIURE i
FI_PER
```

**Amb WHILE:**
```pseudocode
// Mostrar n√∫meros de l'1 al 5
i ‚Üê 1
MENTRE i <= 5 FER
    ESCRIURE i
    i ‚Üê i + 1
FI_MENTRE
```

### Quan usar cada un?

**Usa FOR quan:**
- Saps exactament quantes repeticions necessites
- Vols rec√≥rrer un rang de valors
- Necessites un comptador

**Usa WHILE quan:**
- No saps quantes vegades repetir√†s
- La condici√≥ de parada dep√®n de l'usuari o dades externes
- Necessites m√©s flexibilitat

---

## üéØ Bucles amb sentinella

Un **valor sentinella** √©s un valor especial que indica que hem d'acabar el bucle.

### Exemple 1: Sumar n√∫meros fins a introduir 0

```pseudocode
ALGORISME SumaAmbSentinella
VARIABLES
    numero, suma: ENTER
    
INICI
    suma ‚Üê 0
    
    ESCRIURE "Introdueix n√∫meros (0 per acabar):"
    LLEGIR numero
    
    MENTRE numero ‚â† 0 FER
        suma ‚Üê suma + numero
        ESCRIURE "Introdueix un altre n√∫mero (0 per acabar):"
        LLEGIR numero
    FI_MENTRE
    
    ESCRIURE "Suma total:", suma
FI
```

### Exemple 2: Comptar n√∫meros positius

```pseudocode
ALGORISME ComptaPositius
VARIABLES
    numero: REAL
    comptador: ENTER
    
INICI
    comptador ‚Üê 0
    
    ESCRIURE "N√∫mero (-1 per acabar):"
    LLEGIR numero
    
    MENTRE numero ‚â† -1 FER
        SI numero > 0 LLAVORS
            comptador ‚Üê comptador + 1
        FI_SI
        
        ESCRIURE "N√∫mero (-1 per acabar):"
        LLEGIR numero
    FI_MENTRE
    
    ESCRIURE "Has introdu√Øt", comptador, "n√∫meros positius"
FI
```

### üí° Patr√≥ com√∫

```pseudocode
// 1. Lectura inicial (PRIMING READ)
LLEGIR valor

// 2. Bucle mentre no sentinella
MENTRE valor ‚â† SENTINELLA FER
    // Processar valor
    
    // 3. Lectura seg√ºent valor
    LLEGIR valor
FI_MENTRE
```

---

## üé® Diagrama de flux

### Bucle WHILE

```mermaid
%%{init: {'flowchart': {'curve': 'stepAfter'}}}%%
flowchart TD
    A([INICI]) --> B[Inicialitzar variables]
    B --> C{Condici√≥ CERT?}
    C -->|S√ç| D[Executar instruccions]
    D --> E[Modificar variables]
    E --> C
    C -->|NO| F([FI])
    
    style A fill:#e1f5e1
    style F fill:#ffe1e1
    style C fill:#fff4e1
    style D fill:#e1f0ff
    style E fill:#e1f0ff
```

---

## ‚ö†Ô∏è Errors comuns

### 1. Bucle infinit

```pseudocode
// ‚ùå MAL - Bucle infinit!
x ‚Üê 1
MENTRE x > 0 FER
    ESCRIURE x
    // Oblida incrementar x!
FI_MENTRE
```

**Soluci√≥:**
```pseudocode
// ‚úÖ BONA
x ‚Üê 1
MENTRE x <= 10 FER
    ESCRIURE x
    x ‚Üê x + 1  // No oblidar modificar la variable!
FI_MENTRE
```

### 2. Oblidar la lectura inicial

```pseudocode
// ‚ùå MAL
suma ‚Üê 0
MENTRE numero ‚â† 0 FER  // 'numero' no est√† inicialitzat!
    suma ‚Üê suma + numero
    LLEGIR numero
FI_MENTRE
```

**Soluci√≥:**
```pseudocode
// ‚úÖ B√â
suma ‚Üê 0
LLEGIR numero  // Lectura inicial!
MENTRE numero ‚â† 0 FER
    suma ‚Üê suma + numero
    LLEGIR numero
FI_MENTRE
```

### 3. Condici√≥ incorrecta

```pseudocode
// ‚ùå MAL - Volia parar quan x > 10
x ‚Üê 1
MENTRE x > 10 FER  // Mai s'executar√†!
    ESCRIURE x
    x ‚Üê x + 1
FI_MENTRE
```

**Soluci√≥:**
```pseudocode
// ‚úÖ B√â
x ‚Üê 1
MENTRE x <= 10 FER  // Condici√≥ de continuaci√≥
    ESCRIURE x
    x ‚Üê x + 1
FI_MENTRE
```

---

## üí° Activitats Pr√†ctiques

### üéØ Activitat 1: Tra√ßa el bucle

Qu√® mostrar√† aquest programa?

```pseudocode
n ‚Üê 5
MENTRE n > 0 FER
    ESCRIURE n * 2
    n ‚Üê n - 1
FI_MENTRE
```

??? success "Soluci√≥"
    ```
    10
    8
    6
    4
    2
    ```
    
    | Iteraci√≥ | n | Condici√≥ (n > 0) | Sortida |
    |----------|---|------------------|---------|
    | 1 | 5 | CERT | 10 |
    | 2 | 4 | CERT | 8 |
    | 3 | 3 | CERT | 6 |
    | 4 | 2 | CERT | 4 |
    | 5 | 1 | CERT | 2 |
    | 6 | 0 | FALS | - |

---

### üéØ Activitat 2: Converteix FOR a WHILE

Converteix aquest bucle FOR a WHILE:

```pseudocode
PER i ‚Üê 1 FINS 10 FER
    ESCRIURE i * i
FI_PER
```

??? success "Soluci√≥"
    ```pseudocode
    i ‚Üê 1
    MENTRE i <= 10 FER
        ESCRIURE i * i
        i ‚Üê i + 1
    FI_MENTRE
    ```

---

### üéØ Activitat 3: Troba l'error

Aquest programa t√© un error. Quin?

```pseudocode
suma ‚Üê 0
comptador ‚Üê 1

MENTRE comptador <= 5 FER
    suma ‚Üê suma + comptador
FI_MENTRE

ESCRIURE "Suma:", suma
```

??? success "Resposta"
    **Error:** Bucle infinit!
    
    Falta incrementar el comptador dins del bucle.
    
    **Soluci√≥:**
    ```pseudocode
    suma ‚Üê 0
    comptador ‚Üê 1
    
    MENTRE comptador <= 5 FER
        suma ‚Üê suma + comptador
        comptador ‚Üê comptador + 1  // ‚Üê Afegir aix√≤
    FI_MENTRE
    
    ESCRIURE "Suma:", suma
    ```

---

### üéØ Activitat 4: Predicci√≥

Quantes vegades s'executar√† aquest bucle?

```pseudocode
x ‚Üê 20
MENTRE x >= 10 FER
    ESCRIURE x
    x ‚Üê x - 3
FI_MENTRE
```

??? success "Soluci√≥"
    **4 vegades**
    
    | Iteraci√≥ | x inicial | Condici√≥ | Sortida | x final |
    |----------|-----------|----------|---------|---------|
    | 1 | 20 | 20 >= 10 ‚úì | 20 | 17 |
    | 2 | 17 | 17 >= 10 ‚úì | 17 | 14 |
    | 3 | 14 | 14 >= 10 ‚úì | 14 | 11 |
    | 4 | 11 | 11 >= 10 ‚úì | 11 | 8 |
    | 5 | 8 | 8 >= 10 ‚úó | - | - |

---

## üíª Exercicis de Programaci√≥

### Exercici 1: Compte enrere

Crea un programa que demani un n√∫mero i faci un compte enrere des d'aquest n√∫mero fins a 0.

??? tip "Ajuda"
    - Llegeix el n√∫mero
    - Usa MENTRE amb condici√≥ `>= 0`
    - Decrementa en cada iteraci√≥

??? success "Soluci√≥"
    ```pseudocode
    ALGORISME CompteEnrere
    VARIABLES
        numero: ENTER
        
    INICI
        ESCRIURE "Introdueix un n√∫mero:"
        LLEGIR numero
        
        MENTRE numero >= 0 FER
            ESCRIURE numero
            numero ‚Üê numero - 1
        FI_MENTRE
        
        ESCRIURE "Acabat!"
    FI
    ```

---

### Exercici 2: Endevina el n√∫mero

Programa que t√© un n√∫mero secret (exemple: 42) i demana a l'usuari que l'endevini.

??? tip "Ajuda"
    - Defineix el n√∫mero secret com a constant
    - Llegeix l'intent de l'usuari
    - Repeteix mentre no encertin
    - Mostra missatges d'ajuda (m√©s gran/m√©s petit)

??? success "Soluci√≥"
    ```pseudocode
    ALGORISME EndevinaNumero
    CONSTANTS
        SECRET = 42
        
    VARIABLES
        intents: ENTER
        
    INICI
        ESCRIURE "Endevina el n√∫mero (entre 1 i 100):"
        LLEGIR intents
        
        MENTRE intents ‚â† SECRET FER
            SI intents < SECRET LLAVORS
                ESCRIURE "Massa petit! Torna a provar:"
            SINO
                ESCRIURE "Massa gran! Torna a provar:"
            FI_SI
            
            LLEGIR intents
        FI_MENTRE
        
        ESCRIURE "Correcte! Has encertat!"
    FI
    ```

---

### Exercici 3: Suma amb sentinella

Programa que suma n√∫meros fins que l'usuari introdueixi -1.

??? tip "Ajuda"
    - Inicialitza suma a 0
    - Lectura inicial abans del bucle
    - Condici√≥: mentre n√∫mero ‚â† -1
    - Llegir nou n√∫mero al final del bucle

??? success "Soluci√≥"
    ```pseudocode
    ALGORISME SumaAmbSentinella
    VARIABLES
        numero: REAL
        suma: REAL
        
    INICI
        suma ‚Üê 0
        
        ESCRIURE "Introdueix un n√∫mero (-1 per acabar):"
        LLEGIR numero
        
        MENTRE numero ‚â† -1 FER
            suma ‚Üê suma + numero
            ESCRIURE "Introdueix un altre n√∫mero (-1 per acabar):"
            LLEGIR numero
        FI_MENTRE
        
        ESCRIURE "La suma total √©s:", suma
    FI
    ```

---

### Exercici 4: Comptador de positius i negatius

Programa que demana n√∫meros fins que s'introdueixi 0, i compta quants s√≥n positius i quants negatius.

??? tip "Ajuda"
    - Usa dos comptadors
    - Sentinella: 0
    - Dins del bucle, decideix si √©s positiu o negatiu

??? success "Soluci√≥"
    ```pseudocode
    ALGORISME ComptaPositiusNegatius
    VARIABLES
        numero: REAL
        positius, negatius: ENTER
        
    INICI
        positius ‚Üê 0
        negatius ‚Üê 0
        
        ESCRIURE "Introdueix n√∫meros (0 per acabar):"
        LLEGIR numero
        
        MENTRE numero ‚â† 0 FER
            SI numero > 0 LLAVORS
                positius ‚Üê positius + 1
            SINO
                negatius ‚Üê negatius + 1
            FI_SI
            
            ESCRIURE "Altre n√∫mero (0 per acabar):"
            LLEGIR numero
        FI_MENTRE
        
        ESCRIURE "N√∫meros positius:", positius
        ESCRIURE "N√∫meros negatius:", negatius
    FI
    ```

---

### Exercici 5: Pot√®ncies de 2

Mostra totes les pot√®ncies de 2 menors que 1000.

??? tip "Ajuda"
    - Comen√ßa amb potencia = 1
    - Mentre potencia < 1000
    - Multiplica per 2 en cada iteraci√≥

??? success "Soluci√≥"
    ```pseudocode
    ALGORISME PotenciesDe2
    VARIABLES
        potencia: ENTER
        
    INICI
        potencia ‚Üê 1
        
        ESCRIURE "Pot√®ncies de 2 menors que 1000:"
        
        MENTRE potencia < 1000 FER
            ESCRIURE potencia
            potencia ‚Üê potencia * 2
        FI_MENTRE
    FI
    ```
    
    **Sortida:**
    ```
    1
    2
    4
    8
    16
    32
    64
    128
    256
    512
    ```

---

## üéì Resum de la classe

### Conceptes clau

1. **WHILE** √©s per bucles amb nombre **desconegut** d'iteracions
2. La **condici√≥** s'avalua **abans** de cada iteraci√≥
3. El bucle pot **no executar-se mai** si la condici√≥ inicial √©s falsa
4. Cal **modificar** les variables per evitar bucles infinits
5. Els **valors sentinella** serveixen per marcar el final de l'entrada

### Patr√≥ b√†sic WHILE

```pseudocode
// 1. Inicialitzar
variable ‚Üê valor_inicial

// 2. Bucle
MENTRE condici√≥ FER
    // Processar
    
    // 3. Modificar variable (IMPORTANT!)
    variable ‚Üê nou_valor
FI_MENTRE
```

### Patr√≥ amb sentinella

```pseudocode
// 1. Lectura inicial
LLEGIR valor

// 2. Bucle
MENTRE valor ‚â† SENTINELLA FER
    // Processar valor
    
    // 3. Nova lectura
    LLEGIR valor
FI_MENTRE
```

---

## üîó Navegaci√≥

- ‚¨ÖÔ∏è [Classe 13: Bucle FOR (II)](bloc4_classe13.md)
- ‚û°Ô∏è [Classe 15: Bucle WHILE (II)](bloc4_classe15.md)
- üè† [Torna a l'√≠ndex](index.md)

---

## üìö Recursos addicionals

### Per practicar m√©s

1. Modifica l'exercici "Endevina el n√∫mero" per comptar els intents
2. Crea un programa que calculi la mitjana de n√∫meros introdu√Øts (sentinella: -1)
3. Programa que mostri la taula de multiplicar d'un n√∫mero amb WHILE
4. Calculadora simple que funcioni fins que l'usuari introdueixi 'S' per sortir

### Reptes

üåü **Repte 1:** Programa que calculi el MCD (M√†xim Com√∫ Divisor) de dos n√∫meros usant l'algorisme d'Euclides amb WHILE.

üåü **Repte 2:** Crea un programa que demani n√∫meros i mostri el m√†xim i el m√≠nim (sentinella: 0).

---

**Recorda:** El bucle WHILE √©s la teva eina quan **no saps quantes vegades** has de repetir alguna cosa!

üí™ Practica molt amb sentinelles, s√≥n molt usades en programaci√≥ real!
