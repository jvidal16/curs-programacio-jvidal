# ğŸ¯ Classe 19: Problemes Integradors

## ğŸ“‹ Continguts

- Algorismes complets
- ResoluciÃ³ de problemes reals
- OptimitzaciÃ³ de solucions
- TraÃ§a d'algorismes

---

## ğŸ¯ Objectius d'aprenentatge

DesprÃ©s d'aquesta classe serÃ s capaÃ§ de:

- âœ… Resoldre problemes complexos combinant totes les estructures
- âœ… Dissenyar algorismes complets des de zero
- âœ… Optimitzar solucions existents
- âœ… Fer traÃ§a de programes per trobar errors

---

## ğŸ“– IntroducciÃ³

Hem arribat a la penÃºltima classe del curs! ğŸ‰

Fins ara hem aprÃ¨s:
- âœ… Variables i expressions
- âœ… Decisions (IF, IF-ELSE)
- âœ… Bucles (FOR, WHILE, DO-WHILE)
- âœ… Bucles niuats
- âœ… CombinaciÃ³ d'estructures

Ara Ã©s el moment de **posar-ho tot en prÃ ctica** resolent problemes realistes que combinen tots aquests conceptes.

---

## ğŸ§© Metodologia de resoluciÃ³

### Els 5 passos per resoldre qualsevol problema

```
1ï¸âƒ£ ENTENDRE el problema
   â†“
2ï¸âƒ£ PLANIFICAR la soluciÃ³
   â†“
3ï¸âƒ£ ESCRIURE l'algorisme
   â†“
4ï¸âƒ£ PROVAR amb exemples
   â†“
5ï¸âƒ£ OPTIMITZAR si cal
```

### Pas 1: Entendre el problema â“

**Pregunta't:**
- QuÃ¨ em demanen exactament?
- Quines sÃ³n les entrades?
- Quina ha de ser la sortida?
- Hi ha casos especials?

### Pas 2: Planificar la soluciÃ³ ğŸ“

**Descompon el problema:**
- Quines variables necessito?
- Quines estructures farÃ© servir?
- Quin Ã©s el flux principal?
- Hi ha passos repetitius?

### Pas 3: Escriure l'algorisme ğŸ’»

- ComenÃ§a pel cas mÃ©s simple
- Afegeix funcionalitat gradualment
- Comenta el codi si Ã©s complex

### Pas 4: Provar amb exemples ğŸ§ª

- Casos normals
- Casos lÃ­mit (0, nÃºmeros negatius, etc.)
- Casos extrems

### Pas 5: Optimitzar ğŸš€

- Es pot fer mÃ©s eficient?
- Es pot simplificar?
- El codi Ã©s llegible?

---

## ğŸ¨ Problema 1: Sistema de notes

### Enunciat

Crea un programa que:
1. Demani el nombre d'alumnes
2. Per cada alumne, demani 3 notes
3. Calculi la mitjana de cada alumne
4. Mostri si ha aprovat (>=5) o suspÃ¨s
5. Al final, mostri la mitjana de la classe

### SoluciÃ³ pas a pas

**Pas 1 - Entendre:**
- Entrada: N alumnes, 3 notes per alumne
- Sortida: Mitjana individual, estat (aprovat/suspÃ¨s), mitjana total

**Pas 2 - Planificar:**
- Bucle FOR per N alumnes
- Bucle intern per les 3 notes
- Acumuladors per la mitjana de classe
- IF per determinar aprovat/suspÃ¨s

**Pas 3 - Codi:**

```pseudocode
ALGORISME SistemaDeNotes
VARIABLES
    n_alumnes, i, j: ENTER
    nota, suma_alumne, mitjana_alumne: REAL
    suma_classe, mitjana_classe: REAL
    aprovats, suspesos: ENTER
    
INICI
    // Validar entrada
    ESCRIURE "Quants alumnes hi ha?"
    LLEGIR n_alumnes
    
    MENTRE n_alumnes <= 0 FER
        ESCRIURE "El nombre d'alumnes ha de ser positiu!"
        LLEGIR n_alumnes
    FI_MENTRE
    
    // Inicialitzar comptadors
    suma_classe â† 0
    aprovats â† 0
    suspesos â† 0
    
    // Processar cada alumne
    PER i â† 1 FINS n_alumnes FER
        ESCRIURE ""
        ESCRIURE "=== ALUMNE", i, "==="
        suma_alumne â† 0
        
        // Llegir 3 notes
        PER j â† 1 FINS 3 FER
            ESCRIURE "Nota", j, ":"
            LLEGIR nota
            
            // Validar nota
            MENTRE nota < 0 OR nota > 10 FER
                ESCRIURE "Nota invÃ lida! Ha d'estar entre 0 i 10:"
                LLEGIR nota
            FI_MENTRE
            
            suma_alumne â† suma_alumne + nota
        FI_PER
        
        // Calcular mitjana de l'alumne
        mitjana_alumne â† suma_alumne / 3
        suma_classe â† suma_classe + mitjana_alumne
        
        // Mostrar resultat individual
        ESCRIURE "Mitjana:", mitjana_alumne
        
        SI mitjana_alumne >= 5 LLAVORS
            ESCRIURE "APROVAT âœ“"
            aprovats â† aprovats + 1
        SINO
            ESCRIURE "SUSPÃˆS âœ—"
            suspesos â† suspesos + 1
        FI_SI
    FI_PER
    
    // Resultats globals
    mitjana_classe â† suma_classe / n_alumnes
    
    ESCRIURE ""
    ESCRIURE "=== RESUM DE LA CLASSE ==="
    ESCRIURE "Mitjana de la classe:", mitjana_classe
    ESCRIURE "Alumnes aprovats:", aprovats
    ESCRIURE "Alumnes suspesos:", suspesos
    ESCRIURE "Percentatge d'aprovats:", (aprovats * 100) / n_alumnes, "%"
FI
```

### Optimitzacions possibles

1. **Afegir qualificacions:**
```pseudocode
SI mitjana >= 9 LLAVORS
    ESCRIURE "ExcelÂ·lent"
SINO SI mitjana >= 7 LLAVORS
    ESCRIURE "Notable"
SINO SI mitjana >= 5 LLAVORS
    ESCRIURE "Aprovat"
SINO
    ESCRIURE "SuspÃ¨s"
FI_SI
```

2. **Trobar la millor nota:**
```pseudocode
millor_nota â† 0
PER cada alumne FER
    SI mitjana_alumne > millor_nota LLAVORS
        millor_nota â† mitjana_alumne
        millor_alumne â† i
    FI_SI
FI_PER
```

---

## ğŸ® Problema 2: Joc d'endevinar nÃºmeros

### Enunciat

Crea un joc on:
1. El programa genera un nÃºmero secret entre 1 i 100
2. L'usuari tÃ© 7 intents per endevinar-lo
3. El programa dona pistes: "mÃ©s gran" o "mÃ©s petit"
4. Al final mostra si ha guanyat i en quants intents

### SoluciÃ³ completa

```pseudocode
ALGORISME JocEndevinaNumero
CONSTANTS
    LIMIT_INFERIOR = 1
    LIMIT_SUPERIOR = 100
    MAX_INTENTS = 7
    
VARIABLES
    secret, intent: ENTER
    num_intents: ENTER
    encertat: BOOLEAN
    jugar_mes: CARACTER
    
INICI
    ESCRIURE "ğŸ® JOC D'ENDEVINAR EL NÃšMERO ğŸ®"
    ESCRIURE ""
    
    jugar_mes â† 'S'
    
    MENTRE jugar_mes = 'S' FER
        // Generar nÃºmero secret (simulat)
        secret â† ALEATORI(LIMIT_INFERIOR, LIMIT_SUPERIOR)
        
        ESCRIURE "He pensat un nÃºmero entre", LIMIT_INFERIOR, "i", LIMIT_SUPERIOR
        ESCRIURE "Tens", MAX_INTENTS, "intents per endevinar-lo!"
        ESCRIURE ""
        
        num_intents â† 0
        encertat â† FALS
        
        // Bucle principal del joc
        MENTRE num_intents < MAX_INTENTS AND NOT encertat FER
            num_intents â† num_intents + 1
            ESCRIURE "Intent", num_intents, "de", MAX_INTENTS, ":"
            LLEGIR intent
            
            // Validar entrada
            MENTRE intent < LIMIT_INFERIOR OR intent > LIMIT_SUPERIOR FER
                ESCRIURE "El nÃºmero ha d'estar entre", LIMIT_INFERIOR, "i", LIMIT_SUPERIOR
                LLEGIR intent
            FI_MENTRE
            
            // Comprovar
            SI intent = secret LLAVORS
                encertat â† CERT
                ESCRIURE ""
                ESCRIURE "ğŸ‰ FELICITATS! Has encertat!"
                ESCRIURE "El nÃºmero era:", secret
                ESCRIURE "L'has trobat en", num_intents, "intents"
                
                // Valorar l'Ã¨xit
                SI num_intents <= 3 LLAVORS
                    ESCRIURE "â­â­â­ ExcelÂ·lent!"
                SINO SI num_intents <= 5 LLAVORS
                    ESCRIURE "â­â­ Molt bÃ©!"
                SINO
                    ESCRIURE "â­ BÃ©!"
                FI_SI
            SINO
                // Donar pistes
                SI intent < secret LLAVORS
                    ESCRIURE "âŒ El nÃºmero Ã©s MÃ‰S GRAN"
                SINO
                    ESCRIURE "âŒ El nÃºmero Ã©s MÃ‰S PETIT"
                FI_SI
                
                // Mostrar intents restants
                SI num_intents < MAX_INTENTS LLAVORS
                    ESCRIURE "Et queden", MAX_INTENTS - num_intents, "intents"
                FI_SI
            FI_SI
            
            ESCRIURE ""
        FI_MENTRE
        
        // Si no ha encertat
        SI NOT encertat LLAVORS
            ESCRIURE "ğŸ˜¢ Game Over!"
            ESCRIURE "El nÃºmero era:", secret
        FI_SI
        
        // Preguntar si vol jugar mÃ©s
        ESCRIURE ""
        ESCRIURE "Vols jugar una altra vegada? (S/N)"
        LLEGIR jugar_mes
        
        MENTRE jugar_mes â‰  'S' AND jugar_mes â‰  'N' FER
            ESCRIURE "Respon S o N:"
            LLEGIR jugar_mes
        FI_MENTRE
        
        SI jugar_mes = 'S' LLAVORS
            ESCRIURE ""
            ESCRIURE "==================================="
            ESCRIURE ""
        FI_SI
    FI_MENTRE
    
    ESCRIURE "GrÃ cies per jugar! Fins aviat! ğŸ‘‹"
FI
```

---

## ğŸ“Š Problema 3: AnÃ lisi de vendes

### Enunciat

Una botiga vol analitzar les vendes setmanals:
1. Demanar vendes de 7 dies
2. Calcular total i mitjana
3. Trobar el millor i pitjor dia
4. Comptar dies amb vendes superiors a la mitjana

### SoluciÃ³

```pseudocode
ALGORISME AnalisiVendes
CONSTANTS
    DIES_SETMANA = 7
    
VARIABLES
    vendes: ARRAY[1..7] DE REAL
    dia: ENTER
    venda: REAL
    total, mitjana: REAL
    millor_venda, pitjor_venda: REAL
    millor_dia, pitjor_dia: ENTER
    dies_sobre_mitjana: ENTER
    
INICI
    ESCRIURE "ğŸ“Š ANÃ€LISI DE VENDES SETMANALS ğŸ“Š"
    ESCRIURE ""
    
    // 1. Recollir dades
    total â† 0
    PER dia â† 1 FINS DIES_SETMANA FER
        ESCRIURE "Vendes del dia", dia, "(â‚¬):"
        LLEGIR venda
        
        // Validar (no pot ser negativa)
        MENTRE venda < 0 FER
            ESCRIURE "Les vendes no poden ser negatives!"
            LLEGIR venda
        FI_MENTRE
        
        vendes[dia] â† venda
        total â† total + venda
    FI_PER
    
    // 2. Calcular mitjana
    mitjana â† total / DIES_SETMANA
    
    // 3. Trobar millor i pitjor dia
    millor_venda â† vendes[1]
    pitjor_venda â† vendes[1]
    millor_dia â† 1
    pitjor_dia â† 1
    
    PER dia â† 2 FINS DIES_SETMANA FER
        SI vendes[dia] > millor_venda LLAVORS
            millor_venda â† vendes[dia]
            millor_dia â† dia
        FI_SI
        
        SI vendes[dia] < pitjor_venda LLAVORS
            pitjor_venda â† vendes[dia]
            pitjor_dia â† dia
        FI_SI
    FI_PER
    
    // 4. Comptar dies sobre la mitjana
    dies_sobre_mitjana â† 0
    PER dia â† 1 FINS DIES_SETMANA FER
        SI vendes[dia] > mitjana LLAVORS
            dies_sobre_mitjana â† dies_sobre_mitjana + 1
        FI_SI
    FI_PER
    
    // 5. Mostrar resultats
    ESCRIURE ""
    ESCRIURE "=== RESUM ==="
    ESCRIURE "Total de vendes: â‚¬", total
    ESCRIURE "Mitjana diÃ ria: â‚¬", mitjana
    ESCRIURE ""
    ESCRIURE "Millor dia: Dia", millor_dia, "amb â‚¬", millor_venda
    ESCRIURE "Pitjor dia: Dia", pitjor_dia, "amb â‚¬", pitjor_venda
    ESCRIURE ""
    ESCRIURE "Dies amb vendes sobre la mitjana:", dies_sobre_mitjana
    
    // 6. ValoraciÃ³
    SI mitjana > 1000 LLAVORS
        ESCRIURE "âœ… ExcelÂ·lent setmana!"
    SINO SI mitjana > 500 LLAVORS
        ESCRIURE "ğŸ‘ Bona setmana"
    SINO
        ESCRIURE "âš ï¸ Es pot millorar"
    FI_SI
    
    // 7. GrÃ fic simple
    ESCRIURE ""
    ESCRIURE "=== GRÃ€FIC DE VENDES ==="
    PER dia â† 1 FINS DIES_SETMANA FER
        ESCRIURE "Dia", dia, ":"
        // Cada * representa 100â‚¬
        PER i â† 1 FINS (vendes[dia] / 100) FER
            ESCRIURE "*",
        FI_PER
        ESCRIURE " (â‚¬", vendes[dia], ")"
    FI_PER
FI
```

---

## ğŸ” TraÃ§a d'algorismes

### QuÃ¨ Ã©s fer una traÃ§a?

**TraÃ§ar un algorisme** Ã©s seguir pas a pas la seva execuciÃ³, anotant els valors de totes les variables en cada moment.

### Exemple de traÃ§a

**Algorisme:**
```pseudocode
suma â† 0
PER i â† 1 FINS 4 FER
    SI i mod 2 = 0 LLAVORS
        suma â† suma + i
    FI_SI
FI_PER
ESCRIURE suma
```

**Taula de traÃ§a:**

| Pas | i | i mod 2 | CondiciÃ³ | suma | AcciÃ³ |
|-----|---|---------|----------|------|-------|
| 0 | - | - | - | 0 | InicialitzaciÃ³ |
| 1 | 1 | 1 | FALS | 0 | No suma |
| 2 | 2 | 0 | CERT | 2 | suma = 0 + 2 |
| 3 | 3 | 1 | FALS | 2 | No suma |
| 4 | 4 | 0 | CERT | 6 | suma = 2 + 4 |
| Fi | 5 | - | - | 6 | Surt del bucle |

**Sortida:** 6

### Per quÃ¨ fer traces?

1. âœ… **Entendre el funcionament** d'un algorisme
2. âœ… **Trobar errors** (debugging)
3. âœ… **Verificar** que fa el que volem
4. âœ… **Aprendre** de l'execuciÃ³

---

## ğŸ’¡ Activitats PrÃ ctiques

### ğŸ¯ Activitat 1: TraÃ§a aquest algorisme

```pseudocode
x â† 10
y â† 0
MENTRE x > 5 FER
    y â† y + x
    x â† x - 2
FI_MENTRE
ESCRIURE y
```

Completa la taula:

| IteraciÃ³ | x | CondiciÃ³ (x > 5) | y | x nou |
|----------|---|------------------|---|-------|
| 0 | ? | - | ? | - |
| 1 | ? | ? | ? | ? |
| 2 | ? | ? | ? | ? |
| ... | ? | ? | ? | ? |

??? success "SoluciÃ³"
    | IteraciÃ³ | x | CondiciÃ³ (x > 5) | y | x nou |
    |----------|---|------------------|---|-------|
    | 0 | 10 | - | 0 | - |
    | 1 | 10 | CERT | 10 | 8 |
    | 2 | 8 | CERT | 18 | 6 |
    | 3 | 6 | CERT | 24 | 4 |
    | 4 | 4 | FALS | 24 | - |
    
    **Sortida:** 24

---

### ğŸ¯ Activitat 2: Troba l'error

Aquest programa hauria de calcular la suma dels nÃºmeros parells entre 1 i 10, perÃ² tÃ© un error:

```pseudocode
suma â† 0
PER i â† 1 FINS 10 FER
    suma â† suma + i
    SI i mod 2 = 0 LLAVORS
        i â† i + 1
    FI_SI
FI_PER
ESCRIURE suma
```

??? success "SoluciÃ³"
    **Error 1:** Suma TOTS els nÃºmeros, no nomÃ©s els parells.
    **Error 2:** Modifica `i` dins del bucle FOR (no es pot fer).
    
    **SoluciÃ³ correcta:**
    ```pseudocode
    suma â† 0
    PER i â† 1 FINS 10 FER
        SI i mod 2 = 0 LLAVORS
            suma â† suma + i
        FI_SI
    FI_PER
    ESCRIURE suma
    ```

---

### ğŸ¯ Activitat 3: OptimitzaciÃ³

Aquest codi funciona perÃ² es pot millorar:

```pseudocode
comptador â† 0
PER i â† 1 FINS 100 FER
    SI i mod 2 = 0 LLAVORS
        comptador â† comptador + 1
    FI_SI
FI_PER
ESCRIURE comptador
```

Com el pots optimitzar?

??? success "SoluciÃ³"
    **Problema:** Comprova cada nÃºmero si Ã©s parell.
    
    **OptimitzaciÃ³ 1:** Salta de 2 en 2
    ```pseudocode
    comptador â† 0
    PER i â† 2 FINS 100 PAS 2 FER
        comptador â† comptador + 1
    FI_PER
    ESCRIURE comptador
    ```
    
    **OptimitzaciÃ³ 2:** CÃ lcul directe
    ```pseudocode
    comptador â† 100 / 2
    ESCRIURE comptador
    ```

---

## ğŸ’» Exercicis Integradors

### Exercici 1: EstadÃ­stiques d'examen

Crea un programa que:
- Demani notes d'examen (finalitza amb -1)
- Calculi: aprovats, suspesos, mitjana, nota mÃ xima i mÃ­nima
- Mostri un histograma de qualificacions (0-4.9, 5-6.9, 7-8.9, 9-10)

??? tip "Ajuda"
    - Usa sentinella per acabar
    - Necessites diversos comptadors
    - Recorda inicialitzar mÃ xim/mÃ­nim correctament

??? success "SoluciÃ³"
    ```pseudocode
    ALGORISME EstadistiquesExamen
    VARIABLES
        nota: REAL
        total_notes, aprovats, suspesos: ENTER
        suma, mitjana: REAL
        maxima, minima: REAL
        primer: BOOLEAN
        c_suspens, c_aprovat, c_notable, c_excelÂ·lent: ENTER
        
    INICI
        // Inicialitzar
        total_notes â† 0
        aprovats â† 0
        suspesos â† 0
        suma â† 0
        primer â† CERT
        c_suspens â† 0
        c_aprovat â† 0
        c_notable â† 0
        c_excelÂ·lent â† 0
        
        ESCRIURE "ğŸ“ ESTADÃSTIQUES D'EXAMEN ğŸ“"
        ESCRIURE "Introdueix notes (0-10, -1 per acabar)"
        ESCRIURE ""
        
        // Llegir notes
        LLEGIR nota
        
        MENTRE nota â‰  -1 FER
            // Validar
            SI nota >= 0 AND nota <= 10 LLAVORS
                total_notes â† total_notes + 1
                suma â† suma + nota
                
                // Aprovats/Suspesos
                SI nota >= 5 LLAVORS
                    aprovats â† aprovats + 1
                SINO
                    suspesos â† suspesos + 1
                FI_SI
                
                // MÃ xima/MÃ­nima
                SI primer LLAVORS
                    maxima â† nota
                    minima â† nota
                    primer â† FALS
                SINO
                    SI nota > maxima LLAVORS
                        maxima â† nota
                    FI_SI
                    SI nota < minima LLAVORS
                        minima â† nota
                    FI_SI
                FI_SI
                
                // Classificar
                SI nota < 5 LLAVORS
                    c_suspens â† c_suspens + 1
                SINO SI nota < 7 LLAVORS
                    c_aprovat â† c_aprovat + 1
                SINO SI nota < 9 LLAVORS
                    c_notable â† c_notable + 1
                SINO
                    c_excelÂ·lent â† c_excelÂ·lent + 1
                FI_SI
            SINO
                ESCRIURE "Nota invÃ lida, ignorada"
            FI_SI
            
            LLEGIR nota
        FI_MENTRE
        
        // Mostrar resultats
        SI total_notes > 0 LLAVORS
            mitjana â† suma / total_notes
            
            ESCRIURE ""
            ESCRIURE "=== RESUM ==="
            ESCRIURE "Total d'alumnes:", total_notes
            ESCRIURE "Mitjana:", mitjana
            ESCRIURE "Nota mÃ xima:", maxima
            ESCRIURE "Nota mÃ­nima:", minima
            ESCRIURE "Aprovats:", aprovats, "(", (aprovats*100)/total_notes, "%)"
            ESCRIURE "Suspesos:", suspesos, "(", (suspesos*100)/total_notes, "%)"
            
            ESCRIURE ""
            ESCRIURE "=== HISTOGRAMA ==="
            ESCRIURE "Suspens (0-4.9)  :", REPETIR("â–ˆ", c_suspens), " (", c_suspens, ")"
            ESCRIURE "Aprovat (5-6.9)  :", REPETIR("â–ˆ", c_aprovat), " (", c_aprovat, ")"
            ESCRIURE "Notable (7-8.9)  :", REPETIR("â–ˆ", c_notable), " (", c_notable, ")"
            ESCRIURE "ExcelÂ·lent (9-10):", REPETIR("â–ˆ", c_excelÂ·lent), " (", c_excelÂ·lent, ")"
        SINO
            ESCRIURE "No s'han introduÃ¯t notes"
        FI_SI
    FI
    ```

---

### Exercici 2: Simulador de caixa registradora

Simula una caixa registradora que:
- Mostra un menÃº de productes amb preus
- Permet afegir productes a la compra
- Calcula el total
- Processa el pagament i dona el canvi

??? success "SoluciÃ³ parcial"
    ```pseudocode
    ALGORISME CaixaRegistradora
    CONSTANTS
        PREU_PA = 1.50
        PREU_LLET = 1.20
        PREU_OUS = 2.80
        PREU_AIGUA = 0.80
        
    VARIABLES
        opcio: ENTER
        quantitat: ENTER
        total: REAL
        continuar: BOOLEAN
        pagament, canvi: REAL
        
    INICI
        total â† 0
        continuar â† CERT
        
        ESCRIURE "ğŸ›’ CAIXA REGISTRADORA ğŸ›’"
        
        MENTRE continuar FER
            ESCRIURE ""
            ESCRIURE "=== PRODUCTES ==="
            ESCRIURE "1. Pa (â‚¬1.50)"
            ESCRIURE "2. Llet (â‚¬1.20)"
            ESCRIURE "3. Ous (â‚¬2.80)"
            ESCRIURE "4. Aigua (â‚¬0.80)"
            ESCRIURE "5. Finalitzar compra"
            ESCRIURE ""
            ESCRIURE "Tria una opciÃ³:"
            LLEGIR opcio
            
            SI opcio >= 1 AND opcio <= 4 LLAVORS
                ESCRIURE "Quantitat:"
                LLEGIR quantitat
                
                MENTRE quantitat <= 0 FER
                    ESCRIURE "La quantitat ha de ser positiva:"
                    LLEGIR quantitat
                FI_MENTRE
                
                SI opcio = 1 LLAVORS
                    total â† total + (PREU_PA * quantitat)
                    ESCRIURE "Afegit:", quantitat, "Ã— Pa"
                SINO SI opcio = 2 LLAVORS
                    total â† total + (PREU_LLET * quantitat)
                    ESCRIURE "Afegit:", quantitat, "Ã— Llet"
                SINO SI opcio = 3 LLAVORS
                    total â† total + (PREU_OUS * quantitat)
                    ESCRIURE "Afegit:", quantitat, "Ã— Ous"
                SINO SI opcio = 4 LLAVORS
                    total â† total + (PREU_AIGUA * quantitat)
                    ESCRIURE "Afegit:", quantitat, "Ã— Aigua"
                FI_SI
                
                ESCRIURE "Total actual: â‚¬", total
            SINO SI opcio = 5 LLAVORS
                continuar â† FALS
            SINO
                ESCRIURE "OpciÃ³ no vÃ lida"
            FI_SI
        FI_MENTRE
        
        // Processament de pagament
        ESCRIURE ""
        ESCRIURE "=== TOTAL A PAGAR ==="
        ESCRIURE "â‚¬", total
        ESCRIURE ""
        ESCRIURE "Import rebut:"
        LLEGIR pagament
        
        MENTRE pagament < total FER
            ESCRIURE "Import insuficient! Falten â‚¬", total - pagament
            LLEGIR pagament
        FI_MENTRE
        
        canvi â† pagament - total
        ESCRIURE ""
        ESCRIURE "Canvi: â‚¬", canvi
        ESCRIURE "GrÃ cies per la seva compra!"
    FI
    ```

---

### Exercici 3: Validador de DNI espanyol

El DNI espanyol tÃ© 8 dÃ­gits + 1 lletra. La lletra es calcula: `DNI mod 23` â†’ taula de lletres.

Crea un programa que:
- Demani els 8 dÃ­gits del DNI
- Calculi la lletra correcta
- La mostri a l'usuari

Taula de lletres: TRWAGMYFPDXBNJZSQVHLCKE (posiciÃ³ 0-22)

??? success "SoluciÃ³"
    ```pseudocode
    ALGORISME ValidadorDNI
    CONSTANTS
        LLETRES = "TRWAGMYFPDXBNJZSQVHLCKE"
        
    VARIABLES
        dni: ENTER
        posicio: ENTER
        lletra: CARACTER
        
    INICI
        ESCRIURE "VALIDADOR DE DNI ESPANYOL"
        ESCRIURE ""
        ESCRIURE "Introdueix els 8 dÃ­gits del DNI:"
        LLEGIR dni
        
        // Validar (ha de ser positiu i 8 dÃ­gits)
        MENTRE dni < 10000000 OR dni > 99999999 FER
            ESCRIURE "El DNI ha de tenir exactament 8 dÃ­gits!"
            ESCRIURE "Torna a introduir-lo:"
            LLEGIR dni
        FI_MENTRE
        
        // Calcular lletra
        posicio â† dni mod 23
        lletra â† LLETRES[posicio]
        
        // Mostrar resultat
        ESCRIURE ""
        ESCRIURE "El teu DNI complet Ã©s:", dni, "-", lletra
    FI
    ```

---

## ğŸ“ Resum de la classe

### Has aprÃ¨s a:

1. âœ… **Descompondre problemes** complexos en passos simples
2. âœ… **Combinar estructures** (IF, FOR, WHILE) de forma efectiva
3. âœ… **Validar entrada** per fer programes robustos
4. âœ… **Fer traces** per entendre i debugar algorismes
5. âœ… **Optimitzar solucions** per fer-les mÃ©s eficients

### Consells finals

1. ğŸ’¡ **Practica molt** - la programaciÃ³ s'aprÃ¨n programant
2. ğŸ“ **Comenta el codi** - especialment en parts complexes
3. ğŸ§ª **Prova casos extrems** - 0, negatius, molt grans, etc.
4. ğŸ” **Fes traces** quan el codi no funcioni com esperaves
5. ğŸš€ **Optimitza al final** - primer fes que funcioni, desprÃ©s millora'l

---

## ğŸ† Repte Final

Crea un programa complet que sigui Ãºtil i combini tots els conceptes apresos. Algunes idees:

1. ğŸ“š **Sistema de biblioteca** - gestionar prÃ©stecs de llibres
2. ğŸ¯ **Joc de Bingo** - generar cartrons i nÃºmeros
3. ğŸ’° **GestiÃ³ de pressupost** - despeses mensuals amb categories
4. ğŸ“Š **Enquesta d'opiniÃ³** - recollir i analitzar respostes
5. ğŸƒ **Registre d'entrenament** - seguiment d'exercicis setmanals

---

## ğŸ”— NavegaciÃ³

- â¬…ï¸ [Classe 18: CombinaciÃ³ de decisions i bucles](bloc5_classe18.md)
- â¡ï¸ [Classe 20: Projecte Final](bloc5_classe20.md)
- ğŸ  [Torna a l'Ã­ndex](index.md)

---

## ğŸ‰ Enhorabona!

Has arribat quasi al final del curs de programaciÃ³ estructurada amb pseudocodi. NomÃ©s et queda la Classe 20 amb el projecte final!

**Recordes el camÃ­ recorregut?**
- âœ… Variables i expressions
- âœ… Decisions amb IF/ELSE
- âœ… Bucles FOR, WHILE, DO-WHILE
- âœ… Bucles niuats
- âœ… Problemes complexos

Ara estÃ s preparat/da per resoldre problemes reals amb programaciÃ³! ğŸ’ª

A la propera classe, posarÃ s en prÃ ctica tot el que has aprÃ¨s en un projecte integrador. **EstÃ s preparat/da?** ğŸš€
